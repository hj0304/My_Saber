<!DOCTYPE html>
<html lang="ko" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Saber - Baseball Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Tailwind ì„¤ì •
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#007AFF',
                        darkBg: '#1C1C1E',
                        cardLight: '#F2F2F7',
                        cardDark: '#2C2C2E',
                    }
                }
            }
        }

        // [í•µì‹¬] í˜ì´ì§€ ë¡œë”© ì‹œ ì €ì¥ëœ í…Œë§ˆ í™•ì¸ ë° ì ìš©
        // ê¹œë¹¡ì„ ë°©ì§€ë¥¼ ìœ„í•´ head íƒœê·¸ ì•ˆì—ì„œ ì‹¤í–‰í•´ì•¼ í•¨
        if (localStorage.getItem('theme') === 'dark' || 
           (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
    </style>
</head>
<body class="bg-white dark:bg-darkBg text-gray-900 dark:text-white transition-colors duration-300">

    <nav class="sticky top-0 z-50 backdrop-blur-md bg-white/70 dark:bg-darkBg/70 border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="font-bold text-xl tracking-tight cursor-pointer">My Saber</a>
                    <div class="hidden md:block ml-10 flex items-baseline space-x-4">
                        <a href="/" class="hover:text-primary px-3 py-2 rounded-md text-sm font-medium">í™ˆ</a>
                        <a href="/analysis/strong-second/" class="hover:text-primary px-3 py-2 rounded-md text-sm font-medium">ê°•í•œ 2ë²ˆ</a>
                        <a href="/analysis/pitcher-meta/" class="hover:text-primary px-3 py-2 rounded-md text-sm font-medium">ì„ ë°œ ë©”íƒ€</a>
                        <a href="#" class="hover:text-primary px-3 py-2 rounded-md text-sm font-medium text-gray-400">í”¼ì¹˜ í„°ë„(ì¤€ë¹„ì¤‘)</a>
                    </div>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none transition-colors">
                    <span id="theme-icon">ğŸŒ™</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 min-h-screen">
        {% block content %}
        {% endblock %}
    </main>

    <script>
        const btn = document.getElementById('theme-toggle');
        const icon = document.getElementById('theme-icon');
        const html = document.documentElement;

        // ì´ˆê¸° ì•„ì´ì½˜ ì„¤ì •
        function updateIcon() {
            if (html.classList.contains('dark')) {
                icon.innerText = 'â˜€ï¸'; // ë‹¤í¬ëª¨ë“œì¼ ë• í•´ ì•„ì´ì½˜ ë³´ì—¬ì£¼ê¸°
            } else {
                icon.innerText = 'ğŸŒ™'; // ë¼ì´íŠ¸ëª¨ë“œì¼ ë• ë‹¬ ì•„ì´ì½˜ ë³´ì—¬ì£¼ê¸°
            }
        }
        updateIcon();

        // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        btn.addEventListener('click', () => {
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light'); // ì €ì¥ì†Œì— 'light' ì €ì¥
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark'); // ì €ì¥ì†Œì— 'dark' ì €ì¥
            }
            updateIcon();
        });
    </script>
</body>
</html>